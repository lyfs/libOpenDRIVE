cmake_minimum_required(VERSION 3.10)

if(NOT CMAKE_BUILD_TYPE)
  set(CMAKE_BUILD_TYPE Release)
endif()

project(libOpenDrive VERSION 0.1 DESCRIPTION ".xodr library")
set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED True)

set(CMAKE_CXX_FLAGS "-Wall")
set(CMAKE_CXX_FLAGS_DEBUG "-g")
set(CMAKE_CXX_FLAGS_RELEASE "-O3")

add_library(OpenDrive SHARED
    Geometries/Arc.cpp
    Geometries/CubicSpline.cpp
    Geometries/Line.cpp
    Geometries/ParamPoly3.cpp
    Geometries/RoadGeometry.cpp
    Geometries/Spiral.cpp
    Geometries/Spiral/odrSpiral.cpp
    Lanes.cpp
    LaneSection.cpp
    Mesh.cpp
    OpenDriveMap.cpp
    RefLine.cpp
    Road.cpp
    RoadMark.cpp
    RoadNetworkMesh.cpp
    RoadObject.cpp
    Thirdparty/json11/json11.cpp
    Thirdparty/pugixml/pugixml.cpp
)
target_include_directories(OpenDrive PRIVATE .)
target_include_directories(OpenDrive PRIVATE Thirdparty)

add_executable(test-xodr test.cpp)
target_link_libraries(test-xodr OpenDrive)
target_include_directories(test-xodr PUBLIC .)

15776747122,18752072084,18463101873,15611708893,18326133461,18852146255,15221535919,13260126303,17680169864,15370041606,18642616850,19973866170,13917955528,18846832470,13234021396,18291893628,17863108639,18328084968,18105692308,15546138236,17274887573,15531172135,13912965178,18879582880,13917427486,15900551739,15201778507,17621681196,18758832296,17521547896,18221055269,18964830223,13056220896,18646112367,18606310093,17843326389,18867799577,13761593264,18245028318,18115135407,18702181595,19821836761,13072191805,18817818658,15821767297,15021779002,18621972677,15821917591,13892975293,13176160926,15021759955,13482772643,13637290605,15094872993,13301897585,18721071971,17625002360,18652058216,13370030457,18105693805,13816585132,15738531726,18918083367,18867136096,18117361216,18717965387,18346958687,19969919702,17820731291,17317183005,13682196067,15842666141,15850650028,18918275902,15672860076,13029878656,17356535283,18226638083,13476143136,15000144636,15162615919,15070264397,13388606638,18801953634,15162332036,13918492658,18516598412,15800908675,13003091103,18803912088,13256788990,15671627453,17354004304,17626033644,18521343696,15828004354,13512165296,18805199378,17612158071,18333648428,18192947510,15754508280,15634395330,13007029356,13427529811,13920771160,15620623164,15858181027,13594061027,18437952037,18069674968,15151886672,13133695937,18621372736,19802129912,18817362558,15151852278,13910250654,13917947400,13910932579,13276603950,18612292750,18101905157,19512279606,18510004352,16619847102,18813021695,18800413839,16619776071,18225836905,18530052162,13552562864,13261666029,18019065680,18816582973,16601047619,18237635561,15210112039,18356500298,18001920581,18600994517,13858451800,18845623922,19822780116,15502144913,18846934395,18392014250,13901153259,18645906559,13720018487,15970051889,18310977515,15810542705,15618003981,15811843704,15929310051,17717841056,15062227465,15172639930,19818934929,13119177335,18710032475,18612209215,15210533213,18916955632,19901658026,18988923502,15900958631,15250623531,15624960620,18810968057,13795230839,15921025681,18217169390,18910733726,15821093253,15501206150,13522053360,15221096373,18702166974,13717835218,18845721914,15110271218,15805190224,18817261379,18600540628,18616828236,13109136166,13681829328,18862108765,13148142696,17746515821,18001939440,18525427077,13103162065,15801548905,18612790187,18006009437,15216615291,18116211979,18612786002,13370753045,15652965830,13969001720,17621547253,15120088727,18537586779,18600153651,15004111234,18055112359,15601777603,13301073970,13920207851,13552793635,13917056787,18810925810,18743043580,13522150143,13940207147,13541831470,17090405382,13811118792,18201501281,13716366781,18511022377,18817209512,18918058512,18701161366,18622946756,13051660321,13191860474,18822622907,18801208192,18911742960,13901535311,19210765857,13501848736,17321162676,13810476546,18810603421,19883120945,15013459660,15001773226,15999531654,18945642811,15811084484,18010193386,13604093378,15848177408,13041235202,15989425431,18621939262,18610258323,17843107188,13798453483,18612116926,18500164875,19802121222,17853137301,13681618906,17630432108,18515005079,17316463185,18817507259,17610983558,18017109866,13917076300,15091442314,13146600904,15611830628,13716368356,18845149672,18222936184,18947134693,15175923216,13301103595,13161011750,15251789914,18840838828,18710682026,18513622810,13817357834,15802150792,15216705632,18001213141,13395158327,13142035634,19900859607,13937152052,15601271600,18602187429,18801926735,18010175760,19821211576,17621676174,19529961966,13811702725,18205029257,15921323850,13124204457,18810679236,13056969383,17349720279,13811943196,15101639770,13260121115,13621336654,13586476072,18621153998,13898801293,18774036517,18817326438,18631731239,18810332460,18222244901,13816105432,15991606058,13856971505,15754510938,18515590688,15536893344,18910416159,19946234120,18701982860,17888841350,15821938782,13122220770,18616380023,18201825309,18845079286,17851142410,17801233466,13121726720,18851651167,13703010031,13718189896,15776809071,15029577179,15941911975,18810737708,13297986659,15776698528,18221051832,13261259806,18918296964,15026906330,18616723461,15021859416,18621188533(For,18260083579,18162271298,19821323639,13985117777,18652959719,13381812019(优先),18964084665,15011083782(For,18611878231,13073423272,17301702856,18800358680,15562454081,15216606528,18657190487/+95,15958002538,18521761032,13950312335,13535345760,19534259672,13120598878/+86,19821477370,15618590869,18516700053,18360821602,13458660542,18380192232,18774815230(CN),15215008643,13585721585,13811104665,17816890150,18101830906,18501640968,13148137757,15146266521,15316009315,13127627655,18851826353,15157845724,17865192202,13375778399,13817737860,15001863356,18611475971,17634931799,17666111956,13590153728/+86,18202545015,16621001835,15271812383,18224584229,15546380097,13482056786,15611539168,13720723763,18317089635,18717926607,13122282576,18670735953,15618550983,18621156559,15522866280,18113202370,17852227655,18156496214,13991812530,15991852319,13146226399,13720729681,13821439954/+86,15009204603,18629142646,18977737187,17764347328,13564906145,15309245488,18500158347,15171486108,16621270102/+86,13883484150,18280818021,18628342152,19821628350,19371744764,18380109586,18602983579,13819148611,18502936018,18705196709,18189131341,15891706983,19121710151,15895913616,17302201233,18939906136,18851822136,18701710160,15027349482,19130607250,18868111705,13262665507,13814106911,18602820162,13523297189,15319785635,17790098425,17355572534,13571143920,15205150630,15601625573,15869192036,13260902082,17849975755,18296764778,13367925897,13628614234,13262662137,15590852513,13194628088,13391239066,13207100752,13810430057,13018067332,13717639720,13717566979,18042000393,18361277827,13029852968,18201465831,13001127485,13818305935,15387517393,15801663319,13840173433,15008462853,17784324399,13585973280,17302817189,13701009351,15101041787,17342015672,15601659200,13281835740,13321368158,17692140917,18310491530,18633161903,18513867467,13524918958,18883282592,17317892316,18621055773,18612323739,18811592588,18617081711,15928705345,17800253241,13051500822,18228100110,18829890058,15823196035,18851677173,18610473660,18868101072,18321289879,18108089296,19538861413,15251709852,18321717881,13601949748,15822150852,18410147271,18509220116,13588043525,18513823988,18350557898,17301740213,18101931083,13818693037,13810177839,13161685288,18603680666,13070120069,18800100435,18611536976,19901677142,15600814234,18101392293,15055181994,18813135462,18829236935,13716257288,18757191065,13556990644,15641828578,18694032056,15901067928,13036138851,

